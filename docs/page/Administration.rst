==============
Administration
==============


Role Description
----------------
**Master** - nак как на портале отключена регистрация, то для первоначального создания пользователей создан специальный аккаунт - master account. Данный аккаунт обладает теми же привилегиями что и *Administrator*, но не может быть удален или изменен.

**Administrator** - обладает полным доступом ко всем функциям портала:
    * Просмотр, создание и редактирование данных всех *Study*
    * Просмотр, создание и редактирование настроек *Interventions*
    * Просмотр, создание и редактирование расписания *Clinician*
    * Просмотр, создание и редактирование пользователей (включая *Administrators*)
    * Просмотр, создание и редактирование автоматических текстов
    * Просмотр данных ВСЕХ *Participant*
    * Export
    * Report

.. note:: В данный момент любой *Administrator* может добавить или заархивировать другого *Administrator*.

**Clinician** – роль с ограниченными возможностями. 

Ограничения:
    * Не может добавлять и редатировать пользователей.
    * Просматривать данные *Participants* не входящих в группы в которых является руководителем. 
    * Просмотр, создание и редактирование настроек *Interventions* (уточнить)
    * Просмотр, создание и редактирование данных всех *Study* (уточнить)
    * Просмотр, создание и редактирование автоматических текстов (уточнить)
    * Export (уточнить)
    * Report (уточнить)

**Participant** – данные пользователи в данный момент не имеют возможности авторизации на портале. Являются объектами для обработки данных.


Administrators
--------------
Управление пользователями с ролью Administrator осуществляется на странице `Administrators <http://drexel.azurewebsites.net/Admin/Administrators>`_.

.. image:: /_static/Images/Screenshot_1.png
   :target: ../../_static/Images/Screenshot_1.png

*Figure 1 - Administrators Page Interface*

Описание Administrators Page Interface:
    1. Создание нового пользователя
    2. Востановление заархивированных ранее пользователя
    3. Редактирование выбранного пользователя
    4. Архивирование выбраного пользователя

 
Clinicians
----------
Управление пользователями с ролью *Clinician* осуществляется на странице `Clinicians <http://drexel.azurewebsites.net/Admin/Clinicians>`_.
 
.. image:: /_static/Images/Figure_3.png
   :target: ../../_static/Images/Figure_3.png

*Figure 2 - Clinicians Page Interface*

Описание Clinicians Page Interface:
    1. Создание нового пользователя
    2. Востановление заархивированных ранее пользователя
    3. Редактирование выбранного пользователя
    4. Архивирование выбраного пользователя
 

Participants
------------
Управление пользователями с ролью *Participant* осуществляется на странице `Participants <http://drexel.azurewebsites.net/Admin/Participants>`_.
 
.. image:: /_static/Images/Figure_4.png
   :target: ../../_static/Images/Figure_4.png

*Figure 3 - Participants Page Interface*

Описание Participants Page Interface:
    1. Создание нового пользователя
    2. Востановление заархивированных ранее пользователя
    3. функция импорта (массового добавления пользователя)
    4. Поля имени пользователя, так же является ссылкой на страницу Participant View (LINK!)
    5. Поле **ExternalId**, может содержать любое значение однозначно индетифицируещее пользователя или ничего
    6. Координатор *Study Group* в которой состоит пользователя
    7. Название *Study Group* в которой состоит пользователя, также является ссылкой на Group View (LINK!)
    8. Показывает привязан ли данному пользователя аккаунт *Fitbit*
    9. Редактирование выбранного пользователя
    10. Архивирование выбраного пользователя
    11. Привязка аккаунта *Fitbit* к выбраному пользователя
 
Окно для управления аккунтом *Fitbit* данного *Participant*.
 .. image:: /_static/Images/Figure_5.png
   :target: ../../_static/Images/Figure_5.png

*Figure 4 - Fitbit Assinging Window*

Описание Fitbit Assinging Window:
    1. Показывает привязан ли *Fitbit* аккаунт
    2. Ссылка для перехода на сайт *Fitbit* для акторизации данного пользователя
    3. Ссылка так же может быть сгенерирована и отображена в окне
    4. Отображение сгенерированной ссылки
    5. **Добавить извещение о успегном создании сабсрипшена**


Clinician Schedule
------------------
Управление расписанием Clinician осуществляется на странице `Clinician Schedule <http://drexel.azurewebsites.net/Schedule>`_.

.. image:: /_static/Images/Figure_6.png
   :target: ../../_static/Images/Figure_6.png

*Figure 5 - Clinician Schedule Page Interface*

Описание Clinician Schedule Page Interface:
    1. Выбор пользователя для редактирования
    2. Добавления нового правила для определенной *Study Group*
    3. Данное поле отображает для какой *Study Group* создано расписание
    4. Эллемент для удаления расписание для определенных *Study Group*, удаление стандарного расписания недоступно
    5. Поля показывающее время начала и конца временного периода, который готов потратить *Clinicain* в отпереленный день недели

.. note:: Время конца периода не может превышать время начала периода, также периоды не должны пересекаться с другими периодами для этого дня.
 
.. image:: /_static/Images/Figure_7.png
   :target: ../../_static/Images/Figure_7.png

*Figure 6 - Окно добавления расписания для Study Group*

Описание Окна добавления расписания для *Study Group*:
    1.	В окне добавления расписания в поле выбора *Study Group* отображаются только те *Study Group* для которых *Clinician* является координатором


User Recovery
-------------
На портале мы не удаляем данные и пользователей, поэтому любой заархивированный пользователей позднее может быть востановлен.  

.. note:: Заархивированные пользователи не имеют возможности авторизоваться на портале, а также не отображатся на портале.

.. image:: /_static/Images/Figure_8.png
   :target: ../../_static/Images/Figure_8.png

*Figure 6 - Окно востановления пользователей*